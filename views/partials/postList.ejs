<section>
    <% if (posts && posts.length > 0) {%>
        <ul class="post-bx">
            <% posts.forEach(post => { %>
                <li class="post-item">
                    <h2><%= post.title %></h2>
                    <p>Posted By: <%= currentUser.role === "guest" ? "Anonymous" : post.firstname %></p>
                    <p>
                        Date Posted: <%= currentUser.role === "guest" ? "Anonymous" : new Date(post.date_posted).toLocaleDateString("en-US", {
                            year: "numeric",
                            month: "long",
                            day: "numeric",
                        }) %>
                    </p>

                    <% if (post.hidden && currentUser.role === "admin") { %>
                        <small style="color: crimson;">(Hidden)</small>
                    <% } %>


                    <% if (currentUser.role === "admin") { %>
                        <div class="admin-btn-bx">
                            <button class="delete-btn" data-post-id="<%= post.id %>">Delete</button>
                            <button class="hide-btn" data-post-id="<%= post.id%>">Hide</button>
                        </div>
                    
                    <% } else { %>
                        <button>Report</button>
                    <% } %>

                </li>
            <% }) %>
        </ul>
    <%} else {%>
        <div style="padding: 0 8px;">
            <p>No post to show yet...</p>
        </div>
    <% } %>
</section>